<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<body>

    <div id="ecpay">
        <form id="allPayAPIForm" action="http://payment-stage.ecPay.com.tw/Cashier/AioCheckOut/V5" method="post"><input type="hidden" name="NeedExtraPaidInfo" value="N"><input type="hidden" name="ReturnURL" value="/ecpay.html"><input type="hidden" name="BidingCard" value=""><input type="hidden" name="CheckMacValue" value="98F5990F4F4772A003C0381CBDC3799D3346D4B04979A77B529D0D26AD9E6337"><input type="hidden" name="StoreExpireDate" value=""><input type="hidden" name="PeriodAmount" value=""><input type="hidden" name="PaymentInfoURL" value=""><input type="hidden" name="ClientRedirectURL" value=""><input type="hidden" name="StoreID" value=""><input type="hidden" name="EncryptType" value="1"><input type="hidden" name="IgnorePayment" value=""><input type="hidden" name="CreditInstallment" value=""><input type="hidden" name="PaymentType" value="aio"><input type="hidden" name="OrderResultURL" value=""><input type="hidden" name="PeriodReturnURL" value=""><input type="hidden" name="PlatformID" value=""><input type="hidden" name="MerchantMemberID" value=""><input type="hidden" name="Frequency" value=""><input type="hidden" name="ExpireDate" value=""><input type="hidden" name="ItemName" value="TestItem"><input type="hidden" name="InvoiceMark" value="N"><input type="hidden" name="ExecTimes" value=""><input type="hidden" name="ChoosePayment" value="ALL"><input type="hidden" name="MerchantID" value="2000132"><input type="hidden" name="TradeDesc" value="test Description"><input type="hidden" name="ClientBackURL" value="http://192.168.1.37:8080/"><input type="hidden" name="PeriodType" value=""><input type="hidden" name="CustomField4" value=""><input type="hidden" name="Desc_4" value=""><input type="hidden" name="TotalAmount" value="100"><input type="hidden" name="CustomField3" value=""><input type="hidden" name="Desc_3" value=""><input type="hidden" name="CustomField2" value=""><input type="hidden" name="Desc_2" value=""><input type="hidden" name="MerchantTradeDate" value="2024/01/28 00:29:13"><input type="hidden" name="CustomField1" value=""><input type="hidden" name="Desc_1" value=""><input type="hidden" name="ChooseSubPayment" value=""><input type="hidden" name="UnionPay" value=""><input type="hidden" name="InstallmentAmount" value=""><input type="hidden" name="MerchantTradeNo" value="e10eb8ff8f36455a8eab"><input type="hidden" name="ItemURL" value=""><input type="hidden" name="Remark" value=""><input type="hidden" name="DeviceSource" value=""><input type="hidden" name="Language" value=""><input type="hidden" name="Redeem" value=""><script language="JavaScript">allPayAPIForm.submit()</script></form>
    </div>


    <a id="test" href="">123</a>
        <script>
        $(document).ready(()=> {
            $('#test').on('click', () => {
                fetch('/ecpayCheckout', {
                    method: 'POST',
                    headers:{ 'Content-Type': 'application/x-www-form-urlencoded'}
                })
                    .then(response => console.log(response))  // 解析文本內容
                    .then(htmlContent => {
                        // 在這裡處理獲得的 HTML 內容，例如將其插入到頁面中
                        // $('#ecpay').html(htmlContent);
                        // console.log(htmlContent);
                    })
                    .catch(error => {
                       window.alert(error)
                    });
            });
        })
    </script>
</body>
</html>